---
title: "[JavaScript] 자바스크립트의 정규표현식"
excerpt: "자바스크립트의 정규표현식에 대해 알아보자"

categories:
toc: true
toc_sticky: true
date: 2024-02-15
last_modified_at: 2024-02-15
---

### 정규표현식이란?

정규 표현식은 문자열에서 특정 문자 조합을 찾기 위한 패턴입니다 가령 사용자가 입력한 이메일의 유효성을 검사한다고 했을때 우리는 사용자의 아이디가 유효한지 @가 포함되어있는지 이메일의 끝이 제대로된 도메인인지 등등을 확인해야합니다.

이때 정규표현식을 사용하면 간단하게 이메일의 유효성을 확인할수 있습니다.

```js
const validEmail = "test@test.com";
const invalidEmail = "test.com";

function isValidEmail(email) {
  // 정규표현식
  const regex = /^\S+@\S+\.\S+$/;
  return regex.test(email);
}

isValidEmail(validEmail); // true
isValidEmail(invalidEmail); // false
```

### 사용법

자바스크립트에서 정규표현식을 만들수있는 2가지 방법이 있습니다 첫번째는 생성자를 이용하는 방법으로 new RegExp를 사용해서 검사하고자 하는 패턴을 넘겨줘서 정규표현식 객체를 만들수 있습니다.

두번째 방법은 리터럴 표기법을 사용해서 정규표현식 객체를 만드는 것입니다. 배열을 만들때 []를 사용하고 객체를 만들때 {}를 사용하는것처럼 정규표현식은 //를 사용해서 만들수 있습니다.

```js
const reg = new RegExp("^S+@S+.S+$");
const reg2 = /^\S+@\S+\.\S+$/;
```

## 패턴

https://developer.mozilla.org/ko/docs/Web/JavaScript/Guide/Regular_Expressions#%EC%A0%95%EA%B7%9C_%ED%91%9C%ED%98%84%EC%8B%9D_%ED%8C%A8%ED%84%B4_%EC%9E%91%EC%84%B1%ED%95%98%EA%B8%B0

# 단순 문자열

그럼 정규표현식을 만들때 넘겨준 패턴에대해 알아봅시다.

단순히 조건없이 일정 문자열만 찾고싶다면 패턴에 해당 문자열만 넣으면됩니다. 예를 들어 test라는 문자를 찾고싶다면 /test/을 정규표현식에 넘겨주면 됩니다.

이때 주의할점은 패턴의 문자열과 정확히 일치할경우에만 표현식이 작동합니다 "tes t"나 "Test"같이 중간에 공백이 있거나 대문자로 되어있을경우 일치하지않은것으로 판별합니다.

# 특수 문자열

패턴에 조건을 넣고싶은경우 특수 문자열을 사용하면됩니다.

정규표현식에는 매우 많은 특수문자열이 있지만 위의 예시에서 사용한 특수 문자열만 소개하겠습니다.

^ 키워드는 패턴이 문자열의 처음부분부터 일치해야한다는 조건입니다 만약 위의 이메일을 검사하는 패턴에서 ^를 뺄경우 "Invalid!!! test@test.com" 이 문자열 자체는 이메일이 아니지만 test@test.com이 존재하기 때문에
유효한 이메일로 판별해버립니다.

\S+ 이 문자열은 공백을 제외한 하나 이상인 문자열 부분을 나타냅니다 소문자인 \s 특수 문자열도 존재하는데요 \s는 공백을 포함합니다.

@ 이건 이메일의 @부분을 나타내는 단순 문자열입니다

\. 이것은 마침표를 나타내는 단순 문자열입니다 패턴에서 .은 모든 문자열과 모두 일치하는 특수 문자열이므로 슬래시를 붙여야 마침표를 나타내는 단순 문자열이 됩니다.

$ 이것도 ^와 같이 패턴이 일치해야하는 문자열의 부분을 나타내는데 ^가 문자열의 시작부분을 나타낸다면 $은 패턴이 문자열의 끝부분과 일치해야한다는 조건입니다.

# 플래그

정규표현식에는 전역탐색이나 대소문자 무시같은 옵션을 추가하는 플래그라는 친구를 추가할수있습니다.

"g"플래그는 문자열 전체를 탐색하게합니다 이 플래그는 아래에서 설명할 match()와 exec()의 작동의 차이를 만들어줍니다.

"i"플래그는 문자열의 대소문자를 무시하게 합니다. 정규표현식이 /test/인 경우 "Test"와는 일치하지 않지만 /test/i로 플래그를 추가하면 일치한것으로 봅니다.

"d"플래그는 일치하는 부분의 인덱스를 추가해주는데요 exec()에서 결과에 indices라는 값을 추가해서 매칭된 문자열의 인덱스를 알려주게합니다.

플래그는 소개한 플래그 말고도 여러 플래그가 있으니 MDN문서를 살펴보면서 필요에 따라 사용하시면 될거같습니다.

https://developer.mozilla.org/ko/docs/Web/JavaScript/Guide/Regular_Expressions#%ED%94%8C%EB%9E%98%EA%B7%B8%EB%A5%BC_%ED%99%9C%EC%9A%A9%ED%95%9C_%EA%B3%A0%EA%B8%89_%ED%83%90%EC%83%89

## 메소드들

# test()

문자열에 정규표현식과 일치하는 부분이 있는지 알려주는 메소드입니다 존재할결우 true를 존재하지 않을경우 false를 반환합니다.

# exec()

문자열에 정규표현식과 일치하는 부분이 있을경우 해당 부분의 정보가 담긴 배열를 반환합니다 이 메소드는 문자열에서 일치하는 첫번째 결과만 반환합니다 일치하는 문자열이 없다면 null을 반환합니다.

"abc abc abc"문자열을 /abc/정규표현식으로 exec()를 사용할경우 첫번째 abc의 정보만 반환합니다 일치하는 모든 결과를 알고싶다면 정규표현식에 g플래그를 추가한다음 exec()를 반복 호출하시거나 match()를 사용하면 됩니다.

```js
const reg = /abc/;
const result = reg.exec("abc abc abc");

console.log(result);
```

# match()

exec()와는 다르게 정규표현식의 메소드가 아니라 문자열의 메소드입니다. 일치하는 결과가 없다면 null을 반환합니다.

정규표현식에 g플래그가 담겨있지않다면 exec와 똑같이 1개의 결과만 배열에 담아 반환하지만 g플래그가 있을경우 문자열에 정규표현식과 일치하는 모든 문자열을 배열에 담아 반환합니다.

```js
// 정규표현식 g플래그는 문자열에서 일치하는 모든 부분을 검색하겠다는 의미입니다
const reg = /abc/g;
const notFlagReg = /abc/;
const result = "abc abc abc".match(reg);
const result2 = "abc abc abc".match(notFlagReg);

console.log(result); // ["abc", "abc", "abc"]
console.log(result2); // ["abc"]
```
